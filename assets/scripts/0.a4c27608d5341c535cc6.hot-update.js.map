{"version":3,"sources":["webpack:///./app/scripts/app.js?e48d"],"names":[],"mappings":";;;;;;AAEA;;;;AAEA;;;;;;;;;;;;;;;;;AAYA,KAAM,MAAM,IAAI,EAAE,GAAN,CAAU,KAAV,EAAiB,EAAC,QAAQ,IAAI,EAAE,MAAN,CAAa,MAAb,EAAqB,MAArB,CAAT,EAAuC,MAAM,EAA7C,EAAiD,eAAe,KAAhE,EAAjB,CAAZ;;AAGA,KAAM,MAAM,IAAI,EAAE,SAAN,CAAgB,mDAAhB,CAAZ;AACA,KAAM,OAAO,IAAI,EAAE,MAAN,EAAb;;;;;;AAMA,KAAM,QAAQ,EAAE,YAAF,CAAe,UAAf,CAA0B,CAAE,GAAF,EAAO,IAAP,CAA1B,CAAd;AACA,KAAI,WAAJ;KAAQ,qBAAR;KAAsB,sBAAtB;;;;;;;;;;;;;;;AAeA,YAAW,YAAM;AAAE,OAAK,qBAAgB,IAAhB,CAAL;AAA4B,EAA/C,EAAiD,IAAjD;;;;AAIA,KAAI,KAAJ,CAAU,GAAV;AACA,MAAK,KAAL,CAAW,GAAX,EAAgB,YAAhB;;AAEA,KAAI,UAAJ,CAAe,IAAI,EAAE,OAAF,CAAU,MAAd,CACb,EAAC,OAAM,GAAP,EAAY,UAAS,IAArB;;AADa,EAAf;;;;;;;;AAcA,KACC,UAAU,EADX;KAEC,cAAc,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,CAFf;;AAMA,KAAI,EAAJ,CAAO,OAAP,EAAgB,UAAS,CAAT,EAAY;;AAE3B,MAAG,QAAQ,MAAR,IAAkB,CAArB,EAAwB;;AAGxB,MAAI,SAAS,EAAE,MAAF,CAAS,EAAE,MAAX,EAAmB,EAAC,WAAW,IAAZ,EAAnB,CAAb;AACA,SAAO,KAAP,CAAa,GAAb,EACE,SADF,CACY,YAAY,KAAZ,EADZ,EAEE,SAFF;;AAIA,SAAO,EAAP,CAAU,SAAV,EAAqB,cAArB;;AAEA,UAAQ,IAAR,CAAa,MAAb;;;;AAIC;;AAED,EAlBD;;AAqBA,KAAM,iBAAiB,SAAjB,cAAiB,GAAU;;AAE/B;;;;;;;;AAQD,EAVD;;AAeA,KAAM,aAAa,SAAb,UAAa,GAAU;AAC5B,MAAG,QAAQ,MAAR,KAAmB,CAAtB,EAAwB;AACvB,WAAQ,IAAR,CAAa,mBAAb;AACA;AACA;;;;;AAKD,KAAG,UAAH,CAAc,QAAQ,GAAR,CAAa,gBAAe;AAAA,OAAb,OAAa,QAAb,OAAa;AAAC,UAAO,CAAC,QAAQ,GAAT,EAAc,QAAQ,GAAtB,CAAP;AAAkC,GAA/D,CAAd;;AAEA,EAXD","file":"0.a4c27608d5341c535cc6.hot-update.js","sourcesContent":["// import svg4everybody from 'svg4everybody';\n// import $ from 'jquery';\nimport _ from 'lodash';\n\nimport YandexRoute from './yandex';\n/*\n$(() => {\n\tsvg4everybody();\n});\n*/\n\n\n// var L = require('leaflet');\n// const map = L.map('map').setView([55.756, 37.627], 13);\n\n\nconst map = new L.Map('map', {center: new L.LatLng(55.756, 37.627), zoom: 13, zoomAnimation: false });\n\n\nconst osm = new L.TileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png');\nconst yndx = new L.Yandex();\n\n// const ytraffic = new L.Yandex(\"null\", {traffic:true, opacity:0.8, overlay:true});\n\n// map.addLayer(ytraffic);\n\nconst group = L.FeatureGroup.loadEvents([ osm, yndx ]);\nlet YR, osmContainer, yndxContainer;\n\n/*group.on({\n\tloading: function() {\n\t\tconsole.log('The layer group just fired the \"loading\" event!');\n\t},\n\tload: function() {\n\t\tconsole.log('The layer group just fired the \"loaded\" event!');\n\n\n\t}\n});\ngroup.addTo(map);\n*/\n// беда с событиями в плагине яндекса\nsetTimeout(() => { YR = new YandexRoute(yndx) }, 4000);\n\n// map.addLayer(yndx);\n// map.addLayer(osm);\nosm.addTo(map);\nyndx.addTo(map).bringToFront();\n\nmap.addControl(new L.Control.Layers(\n\t\t{'OSM':osm, \"Yandex\":yndx}\n\t\t// {\"Traffic\":ytraffic}\n\t)\n);\n\n\n// console.log(yndx.prototype);\n/*L.Class.prototype.onAdd.call(yndx, function() {\n\t\t// console.log('123');\n\t}\n);*/\n\n\nconst\n\tmarkers = [],\n\tmarkerNames = [\"A\", \"B\", \"C\"];\n\n\n\nmap.on('click', function(e) {\n\n\tif(markers.length == 3) return;\n\n\n\tlet marker = L.marker(e.latlng, {draggable: true})\n\tmarker.addTo(map)\n\t\t.bindPopup(markerNames.shift())\n\t\t.openPopup();\n\n\tmarker.on('dragend', refreshMarkers);\n\n\tmarkers.push(marker);\n\n\t// if(markers.length === 3){\n\t\t// YR.markers = markers.map( ({_latlng}) => {return [_latlng.lat, _latlng.lng]} );\n\t\tbuildRoute();\n\t// }\n});\n\n\nconst refreshMarkers = function(){\n\t// if(markers.length === 3){\n\t\tbuildRoute();\n\t// }\n\t// console.log(markers);\n\t/*_.each(markers, (marker, index) => {\n\t\tconsole.log(index);\n\t\t// YR.markers = markers;\n\t\t// marker.dragend(()=>);\n\t});*/\n}\n\n\n\n\nconst buildRoute = function(){\n\tif(markers.length !== 3){\n\t\tconsole.warn('3 points required');\n\t\treturn;\n\t}\n\n\t// YR.markers = markers.map( ({_latlng}) => {return [_latlng.lat, _latlng.lng]} );\n\t// YandexRoute.buildRoute(yndx._map);\n\t// let YR = new YandexRoute(yndx._yandex);\n\tYR.buildRoute(markers.map( ({_latlng}) => {return [_latlng.lat, _latlng.lng]} ));\n\t// console.log(yndx);\n}\n\n\t// console.log(YandexRoute);\n\n\n\n/** WEBPACK FOOTER **\n ** ./app/scripts/app.js\n **/"],"sourceRoot":""}